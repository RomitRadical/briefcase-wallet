(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{362:function(e,t,a){"use strict";(function(e){a.d(t,"a",function(){return C});var n,r=a(19),l=a.n(r),o=a(82),c=a(32),i=a(33),s=a(35),u=a(34),d=a(36),m=a(1),f=a.n(m),p=a(55),b=a.n(p),h=a(48),g=a(843),v=a(373),y=a(15),E=a(374),x=a(64),w=localStorage.getItem("network"),k=a(197);"testnet"===w?n=new k({restURL:"https://trest.bitcoin.com/v2/"}):n=new k;var C=function(t){function a(t){var r;return Object(c.a)(this,a),(r=Object(s.a)(this,Object(u.a)(a).call(this,t))).scanQRCode=function(){console.log("Scan")},r.onMaxAmount=function(){console.log("Max Amount")},r.onEnterAddress=function(e){r.setState({sendAddr:e.target.value})},r.onEnterAmount=function(e){r.setState({sendAmount:e.target.value})},r.onSend=function(){r.setState({loading:!0});var t=r.state,a=t.sendAddr,c=(t.sendAmount,Object(h.b)(localStorage.getItem("wallet"))),i=localStorage.getItem("wallet")(Object(o.a)(l.a.mark(function t(){var r,o,s,u,d,m,f,p,h;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,n.Address.utxo(c);case 3:r=t.sent,o=new e(i),s=b.a.crypto.Hash.sha256(o),u=b.a.crypto.BN.fromBuffer(s),d=new b.a.PrivateKey(u).toString(),m={txId:r.utxos[0].txid,outputIndex:r.utxos[0].vout,address:r.cashAddress,script:r.scriptPubKey,satoshis:r.utxos[0].satoshis},f=n.BitcoinCash.getByteCount({P2PKH:1},{P2PKH:1}),p=r.utxos[0].satoshis-f,h=(new b.a.Transaction).from(m).to(a,p).sign(d),console.log(h.toString()),n.RawTransactions.sendRawTransaction(h.toString()).then(function(e){console.log(e)},function(e){console.log(e)}),t.next=19;break;case 16:t.prev=16,t.t0=t.catch(0),console.error(t.t0);case 19:case"end":return t.stop()}},t,null,[[0,16]])})))();r.setState({loading:!1})},r.state={loading:!1,sendAddr:"",sendAmount:"",fiatSymbol:""},r}return Object(d.a)(a,t),Object(i.a)(a,[{key:"componentWillMount",value:function(){var e=localStorage.getItem("fiat-symbol");e||(e="\u20b9"),this.setState({fiatSymbol:e})}},{key:"render",value:function(){var e=this.state,t=e.sendAddr,a=e.sendAmount,n=e.loading,r=localStorage.getItem("fiat-symbol");return r||(r="\u20b9"),f.a.createElement("div",{style:S.container},f.a.createElement(g.a,{horizontal:!0},"Send"),f.a.createElement(v.a,{style:S.input,type:"text",size:"large",placeholder:"Address",defaultValue:"bitcoincash:",prefix:f.a.createElement(y.a,{type:"user"}),suffix:f.a.createElement("div",null,f.a.createElement(E.a,{content:"Click to open camera and scan a qr code",title:"Scan QR Code"},f.a.createElement(y.a,{type:"scan",onClick:this.scanQRCode}))),value:t,onChange:this.onEnterAddress.bind(this)}),f.a.createElement(v.a,{style:S.input,type:"number",size:"large",placeholder:"Amount",prefix:"$",suffix:f.a.createElement("div",null,f.a.createElement(E.a,{content:"Click to send all funds from the wallet",title:"Max Amount"},f.a.createElement(y.a,{type:"to-top",onClick:this.onMaxAmount}))),value:a,onChange:this.onEnterAmount.bind(this)}),f.a.createElement(x.a,{style:S.button,size:"large",type:"primary",loading:n,onClick:this.onSend},"Send"))}}]),a}(m.Component),S={container:{flex:1,textAlign:"center",color:"black",maxWidth:"500px",margin:"0 auto"},input:{marginTop:"10px"},button:{backgroundColor:"#0492CE",color:"white",marginTop:"15px",padding:"0 50px"}}}).call(this,a(4).Buffer)},389:function(e,t,a){e.exports=a(842)},394:function(e,t,a){},409:function(e,t){},415:function(e,t){},434:function(e,t){},436:function(e,t){},48:function(e,t,a){"use strict";(function(e){a.d(t,"a",function(){return o}),a.d(t,"b",function(){return c});var n=a(55),r=a.n(n),l=new(a(197))({restURL:"https://trest.bitcoin.com/v2/"});function o(){var e=l.Mnemonic.generate(128);return e?(localStorage.setItem("wallet",e),e):(console.log("Network Error: New wallet could not be created"),!1)}function c(t){if(!t)return console.log("Error: No seed detected"),!1;var a=new e(t),n=r.a.crypto.Hash.sha256(a),l=r.a.crypto.BN.fromBuffer(n);return new r.a.PrivateKey(l).toAddress().toString()}r.a.Networks.defaultNetwork=r.a.Networks.testnet}).call(this,a(4).Buffer)},660:function(e,t){},842:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),l=a(6),o=a.n(l),c=(a(394),a(395),a(32)),i=a(33),s=a(35),u=a(34),d=a(62),m=a(36),f=a(369),p=a(90),b=a(844),h=a(845),g=a(846),v=a(856),y=a(847),E=a(848),x=a(849),w=a(353),k=a(124),C=a(354);k.b.add(C.a);var S=function(e){return r.a.createElement("div",null,r.a.createElement(b.a,{style:O.container,light:!0},r.a.createElement(h.a,{style:O.headerText,className:"mr-auto"},r.a.createElement(w.a,{icon:"briefcase"})," Briefcase"),r.a.createElement(g.a,{style:O.hamburger,onClick:e.onClick,className:"mr-1"}),r.a.createElement(v.a,{isOpen:e.isOpen,navbar:!0},r.a.createElement(y.a,{navbar:!0},r.a.createElement(E.a,null,r.a.createElement(x.a,{style:O.text,href:"/"},"Wallet")),r.a.createElement(E.a,null,r.a.createElement(x.a,{style:O.text,href:"/settings"},"Settings")),r.a.createElement(E.a,null,r.a.createElement(x.a,{style:O.text,href:"/about"},"About"))))))},O={container:{flex:1,alignItems:"center",justifyContent:"center",backgroundColor:"#0492CE"},headerText:{color:"white",fontFamily:"Righteous"},text:{color:"white"},hamburger:{backgroundColor:"white"}},j=a(19),A=a.n(j),B=a(82),I=a(48),N=a(855),T=a(64),R=new(a(197))({restURL:"https://trest.bitcoin.com/v2/"});N.a.config({placement:"bottomRight"});var M,P,F=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).getPrice=function(){var e=localStorage.getItem("currency");e||(e="INR"),Object(B.a)(A.a.mark(function t(){var n;return A.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,R.Price.current(e);case 3:if(n=t.sent){t.next=7;break}return console.log("Network Error: Price cannot be fetched"),t.abrupt("return",!1);case 7:return a.setState({price:n}),t.abrupt("return",!0);case 11:t.prev=11,t.t0=t.catch(0),console.error(t.t0);case 14:case"end":return t.stop()}},t,null,[[0,11]])}))()},a.getBalance=function(e){Object(B.a)(A.a.mark(function t(){var n,r;return A.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,R.Address.details(e);case 3:n=t.sent,r=a.state.price,a.setState({bal:Number(n.balance+n.unconfirmedBalance),fiatBal:(n.balance+n.unconfirmedBalance)*r}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}},t,null,[[0,8]])}))()},a.checkNewTx=function(){Object(B.a)(A.a.mark(function e(){var t,n,r;return A.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=Object(I.b)(localStorage.getItem("wallet")),e.next=4,R.Address.details(t);case 4:n=e.sent,r=a.state.price,n.balance+n.unconfirmedBalance>a.state.bal?(console.log("New payment received"),a.setState({bal:Number(n.balance+n.unconfirmedBalance),fiatBal:(n.balance+n.unconfirmedBalance)*r})):n.balance+n.unconfirmedBalance<a.state.bal?(console.log("Payment sent"),a.setState({bal:Number(n.balance+n.unconfirmedBalance),fiatBal:(n.balance+n.unconfirmedBalance)*r})):a.setState({fiatBal:(n.balance+n.unconfirmedBalance)*r}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}},e,null,[[0,9]])}))()},a.newPayment=function(){var e=a.state.receivedAmount,t=r.a.createElement(T.a,{type:"primary",size:"small",onClick:a.openTxDetails},"Details"),n={message:"New Payment Received",description:"Amount: ".concat(e),duration:0,btn:t};N.a.info(n)},a.openTxDetails=function(){console.log("Hi")},a.state={bal:0,fiatBal:0,newBal:0,symbol:"\u20bf",fiatSymbol:"\u20b9",price:""},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentWillMount",value:function(){var e=Object(I.b)(localStorage.getItem("wallet"));this.getPrice(),this.getBalance(e)}},{key:"componentDidMount",value:function(){setInterval(this.getPrice,1e4),setInterval(this.checkNewTx,1e4)}},{key:"render",value:function(){var e=this.state,t=e.bal,a=e.fiatBal,n=e.symbol,l=e.fiatSymbol;return r.a.createElement("div",{style:W.container},r.a.createElement("div",{style:W.box},r.a.createElement("h2",{style:W.text,className:"display-4"},l,a.toFixed(2)),r.a.createElement("h3",{style:W.text},n,t.toFixed(8))))}}]),t}(n.Component),W={container:{backgroundColor:"#0492CE",textAlign:"center",justifyContent:"center",fontFamily:"Questrial",borderBottomLeftRadius:"50px",borderBottomRightRadius:"50px"},text:{color:"white",margin:"0px"},mainText:{color:"white",fontFamily:"Questrial",marginBottom:"0"},box:{marginTop:"40px",marginBottom:"20px"}},D=a(843);"testnet"===localStorage.getItem("network")?(M="https://trest.bitcoin.com/v2/address/details/",P="https://trest.bitcoin.com/v2/transaction/details/"):(M="https://rest.bitcoin.com/v2/address/details/",P="https://rest.bitcoin.com/v2/transaction/details/");var z=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={loading:!1,transactions:[],details:{}},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentWillMount",value:function(){var e=this;this.setState({loading:!0});var t=Object(I.b)(localStorage.getItem("wallet"));fetch(M+t).then(function(e){return e.json()}).then(function(t){t?t.transactions.length<1?console.log("No Transactions Found"):(e.setState({transactions:t.transactions,loading:!1}),t.transactions.map(function(e){fetch(P+e).then(function(e){return e.json()}).then(function(e){console.log(e)})})):console.log("Error: Network Error")})}},{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return r.a.createElement("div",{style:H.container},r.a.createElement(D.a,{horizontal:!0},"History"))}}]),t}(n.Component),H={container:{flex:1,color:"black",alignItems:"center",maxWidth:"500px",margin:"0 auto"}},Q=a(362),K=a(364),L=a.n(K),U=a(372),q=a(365),V=U.a.Share,$=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).copyAddress=function(){var e=a.state.addr;function t(){return(t=Object(B.a)(A.a.mark(function t(){return A.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,V.share({title:"Share",text:e,dialogTitle:"Share your bitcoin cash address"});case 3:t.next=7;break;case 5:t.prev=5,t.t0=t.catch(0);case 7:case"end":return t.stop()}},t,null,[[0,5]])}))).apply(this,arguments)}!function(){t.apply(this,arguments)}(),console.log("Address copied")},a.renderContent=function(){var e=a.state.addr;return q.isMobile?r.a.createElement("div",null,r.a.createElement(T.a,{style:J.button,shape:"round",onClick:a.copyAddress},"Share")):r.a.createElement("div",null,r.a.createElement(T.a,{style:J.button,shape:"round",onClick:function(){return navigator.clipboard.writeText(e)}},"Copy"))},a.state={addr:"",bal:""},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentWillMount",value:function(){var e=Object(I.b)(localStorage.getItem("wallet"));this.setState({addr:e})}},{key:"render",value:function(){var e=this.state.addr;return r.a.createElement("div",{style:J.container},r.a.createElement(D.a,{horizontal:!0},"Receive"),r.a.createElement("div",null,r.a.createElement("h4",null,"Your Bitcoin Cash Address:"),r.a.createElement(L.a,{style:J.qr,value:e}),r.a.createElement("div",null,e),r.a.createElement("div",null,this.renderContent())))}}]),t}(n.Component),J={container:{flex:1,textAlign:"center",color:"black",maxWidth:"500px",margin:"0 auto"},button:{backgroundColor:"#0492CE",color:"white",marginTop:"10px",padding:"0 50px"},qr:{marginTop:"5px"}},Y=a(366),G=a.n(Y),X=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e){a.setState({value:e})},a.toggleNavbar=a.toggleNavbar.bind(Object(d.a)(a)),a.state={collapsed:!1,value:0,addr:""},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"toggleNavbar",value:function(){this.setState({collapsed:!this.state.collapsed})}},{key:"render",value:function(){return r.a.createElement("div",{style:Z.container},r.a.createElement(F,null),r.a.createElement("div",null,r.a.createElement(G.a,{index:1,resistance:!0,enableMouseEvents:!0},r.a.createElement("div",{style:Object.assign({},Z.tabs,Z.tab1)},r.a.createElement(Q.a,null)),r.a.createElement("div",{style:Object.assign({},Z.tabs,Z.tab2)},r.a.createElement(z,null)),r.a.createElement("div",{style:Object.assign({},Z.tabs,Z.tab3)},r.a.createElement($,null)))))}}]),t}(n.Component),Z={container:{display:"flex",textAlign:"center",fontFamily:"Questrial",flexDirection:"column",backgroundColor:"white",color:"black"},tabs:{padding:15,minHeight:100,color:"#fff"},tab1:{backgroundColor:"white"},tab2:{backgroundColor:"white",overflow:""},tab3:{backgroundColor:"white",overflow:"hidden"}},_=a(850),ee=a(851),te=a(853),ae=a(373),ne=a(852),re=a(15),le=a(854),oe=te.a.Option,ce=ae.a.TextArea,ie=[{currency:"Indian Rupee",ticker:"INR",symbol:"\u20b9"},{currency:"United States Dollar",ticker:"USD",symbol:"$"}],se=["Fiat","Bitcoin Cash"],ue=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).fiatCurrencyToogle=function(e){a.setState({fiatCurrency:e}),localStorage.setItem("fiat-currency",e)},a.displayCurrencyToogle=function(e){a.setState({displayCurrency:e}),localStorage.setItem("display-currency",e)},a.displayPriceToggle=function(e){e?localStorage.setItem("display-price","On"):localStorage.setItem("display-price","Off")},a.importModalToggle=function(e){a.setState({importModal:e})},a.state={fiatCurrency:"",displayCurrency:"",importModal:!1},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentWillMount",value:function(){var e=localStorage.getItem("fiat-currency"),t=localStorage.getItem("display-currency");e?t||(t="Fiat"):e="INR",this.setState({fiatCurrency:e,displayCurrency:t})}},{key:"render",value:function(){var e=this,t=this.state,a=t.fiatCurrency,n=t.displayCurrency;return r.a.createElement("div",null,r.a.createElement(_.a,null,r.a.createElement(ee.a,null,r.a.createElement("div",{style:de.container},r.a.createElement("div",null,"Fiat Currency"),r.a.createElement("div",{style:de.spacer}),r.a.createElement("div",null,r.a.createElement(te.a,{defaultValue:a,style:{width:80},onChange:this.fiatCurrencyToogle},ie.map(function(e){return r.a.createElement(oe,{key:e.ticker,value:e.ticker},e.ticker)}))))),r.a.createElement(ee.a,null,r.a.createElement("div",{style:de.container},r.a.createElement("div",null,"Display Currency"),r.a.createElement("div",{style:de.spacer}),r.a.createElement(te.a,{defaultValue:n,style:{width:120},onChange:this.displayCurrencyToogle},se.map(function(e){return r.a.createElement(oe,{key:e,value:e},e)})))),r.a.createElement(ee.a,null,r.a.createElement("div",{style:de.container},r.a.createElement("div",null,"Display Price"),r.a.createElement("div",{style:de.spacer}),r.a.createElement("div",null,r.a.createElement(ne.a,{defaultChecked:!0,onChange:this.displayPriceToggle})))),r.a.createElement(ee.a,null,r.a.createElement("div",{style:de.container},r.a.createElement("div",null,"Import/Recover Wallet"),r.a.createElement("div",{style:de.spacer}),r.a.createElement("div",null,r.a.createElement(re.a,{type:"right",onClick:function(){return e.importModalToggle(!0)}}),r.a.createElement(le.a,{title:"Import/Recover Wallet",centered:!0,visible:this.state.importModal,onOk:function(){return e.importModalToggle(!1)},onCancel:function(){return e.importModalToggle(!1)}},r.a.createElement(ce,{placeholder:"Enter the seed to recover your wallet",autosize:{minRows:3,maxRows:6}}))))),r.a.createElement(ee.a,null,"Advanced")))}}]),t}(n.Component),de={container:{display:"flex",flex:1,alignItems:"center",justifyContent:"center"},spacer:{flex:1}},me=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{style:fe.container},r.a.createElement("h3",null,"About Bitcoin Cash:"),r.a.createElement("p",null,"Bitcoin Cash is a peer-to-peer electronic cash system. It's a permissionless, decentralized cryptocurrency that requires no trusted third parties and no central bank."),r.a.createElement("hr",{className:"my-2"}),r.a.createElement("h3",null,"Key Features:"),r.a.createElement("ol",null,r.a.createElement("li",null,"Fast"),r.a.createElement("li",null,"Reliable"),r.a.createElement("li",null,"Low Fees"),r.a.createElement("li",null,"Simple"),r.a.createElement("li",null,"Stable"),r.a.createElement("li",null,"Secure")),r.a.createElement("hr",{className:"my-2"}))}}]),t}(n.Component),fe={container:{flex:1,padding:"10px"}};localStorage.setItem("network","testnet");var pe=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).toggleNavbar=a.toggleNavbar.bind(Object(d.a)(a)),a.state={collapsed:!1,value:0,addr:""},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentWillMount",value:function(){if(!localStorage.getItem("wallet")){console.log("No wallet detected");var e=Object(I.a)();console.log("New wallet created: "+e)}var t=Object(I.b)(localStorage.getItem("wallet"));this.setState({addr:t})}},{key:"toggleNavbar",value:function(){this.setState({collapsed:!this.state.collapsed})}},{key:"render",value:function(){return r.a.createElement(f.a,null,r.a.createElement("div",{style:be.container},r.a.createElement(S,{isOpen:this.state.collapsed,onClick:this.toggleNavbar}),r.a.createElement(p.a,{path:"/",exact:!0,component:X}),r.a.createElement(p.a,{path:"/settings/",component:ue}),r.a.createElement(p.a,{path:"/about/",component:me})))}}]),t}(n.Component),be={container:{display:"flex",fontFamily:"Questrial",flexDirection:"column",backgroundColor:"white",color:"black",minHeight:"100vh"},spacer:{flex:"1"},tabs:{padding:15,minHeight:100,color:"#fff"},tab1:{backgroundColor:"white"},tab2:{backgroundColor:"white",overflow:""},tab3:{backgroundColor:"white",overflow:"hidden"}};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(840),a(841);o.a.render(r.a.createElement(pe,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[389,1,2]]]);
//# sourceMappingURL=main.4faced6d.chunk.js.map